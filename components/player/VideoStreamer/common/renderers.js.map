{"version":3,"sources":["../../../../src/replay/components/player/VideoStreamer/common/renderers.js"],"names":["createTrackElement","src","srclang","kind","label","onRef","renderWithoutSource","videoRef","videoElementEventHandlers","props","baseClassName","autoPlay","playsInline","textTracks","style","className","classNamePrefix","classNames","Array","isArray","map","renderWithSource","source","streamUrl"],"mappings":";;;;;;;AACA;;AACA;;;;;;;;AAGA,MAAMA,kBAAkB,GAAG,CAAC;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,OAAP;AAAgBC,EAAAA,IAAhB;AAAsBC,EAAAA,KAAtB;AAA6BC,EAAAA;AAA7B,CAAD;AAAA;AACzB;AACA;AAAO,EAAA,GAAG,EAAEJ,GAAG,IAAIG,KAAK,IAAI,EAAb,CAAf;AAAiC,EAAA,IAAI,EAAED,IAAvC;AAA6C,EAAA,GAAG,EAAEF,GAAlD;AAAuD,EAAA,OAAO,EAAEC,OAAhE;AAAyE,EAAA,KAAK,EAAEE,KAAhF;AAAuF,EAAA,GAAG,EAAEC;AAA5F,EAFF;;AAKO,MAAMC,mBAA0C,GAAG,CACxDC,QADwD,EAExDC,yBAFwD,EAGxDC,KAHwD,EAIxDC,aAJwD,EAKxDC,QALwD,EAMxDC,WANwD,EAOxDC,UAPwD,EAQxDC,KARwD,KASrD;AAAA,QACKC,SADL,GACoCN,KADpC,CACKM,SADL;AAAA,QACgBC,eADhB,GACoCP,KADpC,CACgBO,eADhB;AAEH,QAAMC,UAAU,GAAG,8BAAiBD,eAAjB,EAAkCN,aAAlC,EAAiDK,SAAjD,CAAnB;AACA,sBACE;AACE,IAAA,QAAQ,EAAEJ,QADZ;AAEE,IAAA,QAAQ,EAAE,KAFZ;AAGE,IAAA,KAAK,EAAEG,KAHT;AAIE,IAAA,SAAS,EAAEG,UAJb;AAKE,IAAA,GAAG,EAAEV,QALP;AAME,IAAA,WAAW,EAAEK;AANf,KAOMJ,yBAPN,GAQGU,KAAK,CAACC,OAAN,CAAcN,UAAd,KAA6BA,UAAU,CAACO,GAAX,CAAepB,kBAAf,CARhC,CADF;AAYD,CAxBM;;;;AA0BA,MAAMqB,gBAAuC,GAAG,CACrDd,QADqD,EAErDC,yBAFqD,EAGrDC,KAHqD,EAIrDC,aAJqD,EAKrDC,QALqD,EAMrDC,WANqD,EAOrDC,UAPqD,EAQrDC,KARqD,KASlD;AAAA,QACKC,SADL,GAC4CN,KAD5C,CACKM,SADL;AAAA,QACgBC,eADhB,GAC4CP,KAD5C,CACgBO,eADhB;AAAA,QACiCM,MADjC,GAC4Cb,KAD5C,CACiCa,MADjC;AAEH,QAAML,UAAU,GAAG,8BAAiBD,eAAjB,EAAkCN,aAAlC,EAAiDK,SAAjD,CAAnB;AACA,QAAMQ,SAAS,GAAGD,MAAM,KAAK,OAAOA,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsCA,MAAM,CAACC,SAAlD,CAAxB;;AACA,MAAIA,SAAJ,EAAe;AACb,wBACE;AACE,MAAA,QAAQ,EAAEZ,QADZ;AAEE,MAAA,QAAQ,EAAE,KAFZ;AAGE,MAAA,KAAK,EAAEG,KAHT;AAIE,MAAA,SAAS,EAAEG,UAJb;AAKE,MAAA,GAAG,EAAEM,SALP;AAME,MAAA,GAAG,EAAEhB,QANP;AAOE,MAAA,WAAW,EAAEK;AAPf,OAQMJ,yBARN,GASGU,KAAK,CAACC,OAAN,CAAcN,UAAd,KAA6BA,UAAU,CAACO,GAAX,CAAepB,kBAAf,CAThC,CADF;AAaD,GAdD,MAcO;AACL,wBAAO;AAAO,MAAA,SAAS,EAAEiB,UAAlB;AAA8B,MAAA,GAAG,EAAEV,QAAnC;AAA6C,MAAA,GAAG,EAAE,EAAlD;AAAsD,MAAA,QAAQ,EAAE,KAAhE;AAAuE,MAAA,KAAK,EAAEO;AAA9E,MAAP;AACD;AACF,CA9BM","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { prefixClassNames } from '../../../common';\nimport type { TrackElementData, VideoStreamerRenderer } from './types';\n\nconst createTrackElement = ({ src, srclang, kind, label, onRef }: TrackElementData) => (\n  // $FlowFixMe. ref doesn't accept HTMLTrackElement as subtype to HTMLElement.\n  <track key={src + (label || '')} kind={kind} src={src} srcLang={srclang} label={label} ref={onRef} />\n);\n\nexport const renderWithoutSource: VideoStreamerRenderer = (\n  videoRef,\n  videoElementEventHandlers,\n  props,\n  baseClassName,\n  autoPlay,\n  playsInline,\n  textTracks,\n  style\n) => {\n  const { className, classNamePrefix } = props;\n  const classNames = prefixClassNames(classNamePrefix, baseClassName, className);\n  return (\n    <video\n      autoPlay={autoPlay}\n      controls={false}\n      style={style}\n      className={classNames}\n      ref={videoRef}\n      playsInline={playsInline}\n      {...videoElementEventHandlers}>\n      {Array.isArray(textTracks) && textTracks.map(createTrackElement)}\n    </video>\n  );\n};\n\nexport const renderWithSource: VideoStreamerRenderer = (\n  videoRef,\n  videoElementEventHandlers,\n  props,\n  baseClassName,\n  autoPlay,\n  playsInline,\n  textTracks,\n  style\n) => {\n  const { className, classNamePrefix, source } = props;\n  const classNames = prefixClassNames(classNamePrefix, baseClassName, className);\n  const streamUrl = source && (typeof source === 'string' ? source : source.streamUrl);\n  if (streamUrl) {\n    return (\n      <video\n        autoPlay={autoPlay}\n        controls={false}\n        style={style}\n        className={classNames}\n        src={streamUrl}\n        ref={videoRef}\n        playsInline={playsInline}\n        {...videoElementEventHandlers}>\n        {Array.isArray(textTracks) && textTracks.map(createTrackElement)}\n      </video>\n    );\n  } else {\n    return <video className={classNames} ref={videoRef} src={''} controls={false} style={style} />;\n  }\n};\n"],"file":"renderers.js"}